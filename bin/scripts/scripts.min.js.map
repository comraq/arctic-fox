{"version":3,"sources":["scripts.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","title","./titleController","2","controllerInterface","model","controller","Object","create","getTitle","index","getNextImage","img","images","3","window","document","getFile","path","Promise","resolve","reject","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","events","models","controllers","views","view","prop","init","./controllers","./models","./pubsub","./views","4","./title","5","6","on","eventName","func","push","off","filter","handler","emit","data","forEach","7","arguments","apply","dup","8","onTemplateLoaded","root","imgGroupView","titleView","children","child","id","innerHTML","setAttribute","viewGroup","getElementById","then","err","msg","alert","this"],"mappings":"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","file":"../scripts.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nexports.title = require(\"./titleController\");\n\n},{\"./titleController\":2}],2:[function(require,module,exports){\nmodule.exports = function(controllerInterface, model) {\n  var controller = Object.create(controllerInterface);\n\n  controller.getTitle = function getTitle() {\n    return model.title;\n  };\n\n  var index = 0;\n  controller.getNextImage = function getNextImage() {\n    var img = model.images[index];\n    index = (index + 1) % model.images.length;\n    return img;\n  };\n\n  return controller;\n}\n\n},{}],3:[function(require,module,exports){\n(function(window, document) {\n  var events = require(\"./pubsub\")(),\n      models = require(\"./models\"),\n      controllers = require(\"./controllers\"),\n      views = require(\"./views\");\n\n  var controllerInterface = {\n    events: events,\n    getFile: getFile\n  };\n\n  (function init() {\n    var model, controller, view;\n    for (var prop in models) {\n      model = models[prop]();\n      controller = controllers[prop](controllerInterface, model);\n      view = views[prop](controller).init();\n    }\n  })();\n\n  function getFile(path) {\n    return new Promise(function(resolve, reject) {\n      var xmlhttp = new XMLHttpRequest();\n   \n      xmlhttp.onreadystatechange = function() {\n        if (xmlhttp.readyState == 4) {\n          if (xmlhttp.status == 200)\n            resolve(xmlhttp.responseText);\n          else\n            reject(xmlhttp.status);\n        }\n      }\n  \n      xmlhttp.open(\"GET\", path);\n      xmlhttp.send();\n    });\n  }\n})(window, document)\n\n// Sample Code for testing promises and pubsub module\nfunction testCode() {\n  var test = document.getElementById(\"test\");\n  test.innerHTML = \"Ashley\";\n\n  var myPromise = new Promise(function(resolve, reject) {\n    console.log(\"Setting timeout: 5s\");\n    setTimeout(resolve, 5000);\n\n    events.on(\"testing\", function(data) {\n      reject(\"reject reason with data: \" + data);\n    });\n\n  });\n\n  myPromise.then(function success(data) {\n    console.log(\"success! arguments:\")\n    console.log(arguments);\n\n  }, function error(data) {\n    console.log(\"error! arguments:\")\n    console.log(arguments);\n\n  });\n\n  test.addEventListener(\"click\", function() {\n    events.emit(\"testing\", \"11111\");\n  });\n}\n\n},{\"./controllers\":1,\"./models\":4,\"./pubsub\":6,\"./views\":7}],4:[function(require,module,exports){\nexports.title = require(\"./title\");\n\n},{\"./title\":5}],5:[function(require,module,exports){\nmodule.exports = function() {\n  return {\n    title: \"Welcome To Ashley's Arctic Fox Project\",\n    images: [\n      \"http://loe.org/content/2014-04-11/tl-arcticfox.gif\",\n      \"https://crazybugladyblog.files.wordpress.com/2015/02/arctic_fox_winter_coat.jpg\",\n      \"http://www.hww.ca/kaboom/images/Mammals/Arctic-Fox/Arctic-Fox-Megan-Lorenz.jpg\",\n      \"https://secure.defenders.org/ac/img/animals/Arctic%20Fox/Arctic_Fox2.jpg\",\n      \"http://vignette3.wikia.nocookie.net/seekers/images/0/0c/ArcticFox.jpg/revision/latest?cb=20120723205201\"\n    ]\n  };\n};\n\n},{}],6:[function(require,module,exports){\nmodule.exports = function() {\n  var events = {};\n\n  return {\n    on: function on(eventName, func) {\n      events[eventName] = events[eventName] || [];\n      events[eventName].push(func);\n    },\n    off: function off(eventName, func) {\n      if (events[eventName]) {\n        events[eventName] = events[eventName].filter(function(handler) {\n          return !(func === handler);\n        })\n      }\n    },\n    emit: function emit(eventName, data) {\n      if (events[eventName]) {\n        events[eventName].forEach(function(handler) {\n          handler(data);\n        });\n      }\n    }\n  };\n};\n\n},{}],7:[function(require,module,exports){\narguments[4][4][0].apply(exports,arguments)\n},{\"./title\":8,\"dup\":4}],8:[function(require,module,exports){\nmodule.exports = function(controller) {\n  var id = \"view-title\";\n  var viewGroup;\n  \n  function onTemplateLoaded(root) {\n    var imgGroupView, titleView;\n  \n    for (var i = 0; i < root.children.length; ++i) {\n      child = root.children[i];\n      switch(child.id) {\n        case \"img-group\":\n          imgGroupView = child;\n          break;\n  \n        case \"title\":\n          titleView = child;\n          break;\n\n        default:\n          // Default\n      }\n    }\n    titleView.innerHTML = controller.getTitle();\n    for (var i = 0; i < imgGroupView.children.length; ++i) {\n/*\n      var $img = $(imgGroupView.children[i]);\n      $img.on(\"click\", function() {\n        $(this).fadeOut(500);\n      })\n*/\n      var img = imgGroupView.children[i];\n      img.setAttribute(\"src\", controller.getNextImage());\n    }\n  }\n\n  return {\n    init: function init() {\n      viewGroup = document.getElementById(id);\n      controller.getFile(\"static/views/title/title.html\")\n        .then(function success(data) {\n        viewGroup.innerHTML = data;\n        return viewGroup;\n\n      }, function error(err) {\n        var msg = \"Could not load title template!\";\n        viewGroup.innerHTML = msg;\n        alert(\"Status: \" + err + \"! \" + msg);\n    \n      }).then(onTemplateLoaded);\n\n      return this;\n    }\n  };\n};\n\n\n},{}]},{},[3]);\n"]}