!function t(e,n,i){function o(u,c){if(!n[u]){if(!e[u]){var l="function"==typeof require&&require;if(!c&&l)return l(u,!0);if(r)return r(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var a=n[u]={exports:{}};e[u][0].call(a.exports,function(t){var n=e[u][1][t];return o(n?n:t)},a,a.exports,t,e,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,e,n){function i(t){return new Promise(function(e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&(200==i.status?e(i.responseText):n(i.status))},i.open("GET",t),i.send()})}function o(t,e){var n=i(e);return n.then(function(e){return t.innerHTML=e,t},function(e){var n="Failed to load template!";t.innerHTML=n,alert("Status: "+e+"! "+n)})}!function(e,n){var r=t("./pubsub")(),u=t("./models"),c=t("./controllers"),l=t("./views"),s={events:r,getFile:i,loadTemplate:o};!function(){var t,e,n;u.modelFactory(s).then(function(i){t=i;for(var o in c)e=c[o](s,t),n=l[o](e)},function(t){alert(t)})}()}(window,document)},{"./controllers":3,"./models":6,"./pubsub":7,"./views":9}],2:[function(t,e,n){e.exports=function(t,e){var n=Object.create(t);return n}},{}],3:[function(t,e,n){n.title=t("./titleController"),n.details=t("./detailsController"),n.info=t("./infoController")},{"./detailsController":2,"./infoController":4,"./titleController":5}],4:[function(t,e,n){e.exports=function(t,e){var n=Object.create(t);return n.getInfo=function(){return e.getInfo()},n}},{}],5:[function(t,e,n){e.exports=function(t,e){function n(){i=e.getFoxes(),i.forEach(function(t){t.display=!1})}var i,o=Object.create(t);o.getTitle=function(){return e.getTitle()};var r=0;return o.getNextFox=function(t){var e=parseInt(t);isNaN(e)||(i[e].display=!1,r=(e+1)%i.length);var n,o;do n=i[r],o=r,r=(r+1)%i.length;while(n.display);return n.display=!0,{name:n.name,imgUrl:n.imgUrl,facts:n.facts,sound:n.sound,id:o}},function(){n()}(),o}},{}],6:[function(t,e,n){n.modelFactory=function(t){var e,n="static/img/",i="static/sounds/",o="static/data.json";return t.getFile(o).then(function(t){return e=JSON.parse(t),e.foxes.forEach(function(t){t.imgUrl=n+t.imgUrl,t.sound=i+t.sound}),e.info.imgUrl=n+e.info.imgUrl,{getTitle:function(){return e.title},getFoxes:function(){return e.foxes},getInfo:function(){return e.info}}},function(t){var e="Failed to Retrieve Data from json!";throw console.log(e),new Error(e)})}},{}],7:[function(t,e,n){e.exports=function(){var t={};return{on:function(e,n){t[e]=t[e]||[],t[e].push(n)},off:function(e,n){t[e]&&(t[e]=t[e].filter(function(t){return!(n===t)}))},emit:function(e,n){t[e]&&t[e].forEach(function(t){t(n)})}}}},{}],8:[function(t,e,n){e.exports=function(t){function e(e){i=$("#"+a+"-name")[0],o=$("#"+a+"-img-view")[0],r=$("#"+a+"-facts-body")[0],u=$("#"+a+"-back-button")[0],c=$("#"+a+"-sound-button")[0],t.events.on("title-picture-clicked",function(t){s&&s.pause(),l=t,$(n).addClass("view-details-show"),i.innerHTML=t.name,o.setAttribute("src",t.imgUrl),r.innerHTML=t.facts}),t.events.on("details-closed",function(){s&&s.pause(),$(n).removeClass("view-details-show")}),c.addEventListener("click",function(){s&&!s.paused||(s=new Audio(l.sound),s.play())}),u.addEventListener("click",function(){t.events.emit("details-closed")})}var n,i,o,r,u,c,l,s,a="view-details";return function(){n=document.getElementById(a),t.loadTemplate(n,"app/views/details/details.html").then(e)}(),this}},{}],9:[function(t,e,n){n.title=t("./title"),n.details=t("./details"),n.info=t("./info")},{"./details":8,"./info":10,"./title":11}],10:[function(t,e,n){e.exports=function(t){function e(e){i=$("#"+u+"-list")[0],o=$("#"+u+"-img")[0],r=t.getInfo(),r.facts.forEach(function(t,e){var n=i.children[0],o=n.innerHTML;console.log(n),e>0&&(n=n.cloneNode(),n.innerHTML=o,i.appendChild(n),console.log(n)),n.setAttribute("data-content",t),$(n).popover()}),o.setAttribute("src",r.imgUrl),o.setAttribute("title",r.imgCaption),t.events.on("title-picture-clicked",function(t){$(n).addClass("view-info-hide")}),t.events.on("details-closed",function(){$(n).removeClass("view-info-hide")})}var n,i,o,r,u="view-info";return function(){n=document.getElementById(u),t.loadTemplate(n,"app/views/info/info.html").then(e)}(),this}},{}],11:[function(t,e,n){e.exports=function(t){function e(e){for(var i,o,r=0;r<e.children.length;++r)switch(child=e.children[r],child.id){case"img-group":i=child;break;case"title":o=child}o.innerHTML=t.getTitle();for(var r=0;r<i.children.length;++r){var u=i.children[r];!function(e){n(e,function(){return t.getNextFox(e.getAttribute("fox-id"))})}(u)}}function n(e,n){var i=n();e.setAttribute("src",i.imgUrl),e.setAttribute("fox-id",i.id);var o=$(e);o.on("click",function(){var r=$.Deferred();$(this).fadeOut(500,function(){t.events.emit("title-picture-clicked",i),r.resolve()}),r.then(function(){i=n(),e.setAttribute("src",i.imgUrl),e.setAttribute("fox-id",i.id),o.fadeIn(500)})})}var i,o="view-title";return function(){i=document.getElementById(o),t.loadTemplate(i,"app/views/title/title.html").then(e)}(),this}},{}]},{},[1]);
//# sourceMappingURL=scripts/scripts.min.js.map
